<!DOCTYPE html>
<html lang="en">
<body>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dive Region Topology Viewer</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    #map { height: 60vh; width: 100%; margin-bottom: 1em; border-radius: 0.5rem; box-shadow: 0 4px 24px #0003; }
    #tree { font-family: monospace; }
    .major { color: #e74c3c; font-weight: bold; }
    .country { color: #2980b9; }
    .area { color: #27ae60; }
    .subarea { color: #f39c12; }
    .hidden { display: none; }
    ul { list-style: none; padding-left: 1em; }
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Dive Topology Viewer V0.3</title>
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
      <style>
        #map { height: 60vh; width: 100%; margin-bottom: 1em; border-radius: 0.5rem; box-shadow: 0 4px 24px #0003; }
        #tree { font-family: monospace; }
        .major { color: #e74c3c; font-weight: bold; }
        .country { color: #2980b9; }
        .area { color: #27ae60; }
        .subarea { color: #f39c12; }
        .hidden { display: none; }
        ul { list-style: none; padding-left: 1em; }
        html, body {
          background: #f9fafb !important;
          color: #18181b;
          min-height: 100vh;
          margin: 0;
          transition: background 0.3s;
        }
        html.dark, body.dark {
          background: #18181b !important;
          color: #e5e7eb;
        }
        .container {
          max-width: 900px;
          margin: 0 auto;
          padding: 2em 1em;
        }
        .header {
          display: flex;
          flex-direction: column;
          gap: 1em;
          align-items: flex-start;
          justify-content: space-between;
        }
        @media (min-width: 640px) {
          .header {
            flex-direction: row;
            align-items: center;
          }
        }
        .title {
          font-size: 2em;
          font-weight: bold;
          margin: 0;
          color: inherit;
        }
        .toggle-btn {
          padding: 0.5em 1.2em;
          border-radius: 0.5em;
          background: #2d2d2d;
          color: #fff;
          border: none;
          cursor: pointer;
          font-size: 1em;
          transition: background 0.2s;
        }
        .toggle-btn:hover {
          background: #444;
        }
        .region-toggle-btn {
          display: inline-block;
          margin: 0.25em 0.5em 0.25em 0;
          padding: 0.7em 1.5em;
          font-size: 1.1em;
          border-radius: 0.5em;
          border: 2px solid #bbb;
          background: #f3f4f6;
          color: #18181b;
          cursor: pointer;
          transition: background 0.2s, border 0.2s;
          min-width: 120px;
          min-height: 1.7em;
          box-shadow: 0 2px 8px #0001;
          line-height: 1.2;
          padding-top: 0.4em;
          padding-bottom: 0.4em;
        }
        .region-toggle-btn input[type="checkbox"] {
          transform: scale(1.4);
          margin-right: 0.7em;
          vertical-align: middle;
        }
        .region-toggle-btn.selected {
          background: #2563eb;
          color: #fff;
          border-color: #2563eb;
        }
        .dark .region-toggle-btn {
          background: #23272f;
          color: #e5e7eb;
          border-color: #444;
        }
        .dark .region-toggle-btn.selected {
      background: #2563eb;
      color: #fff;
      border-color: #2563eb;
        }
        .light .toggle-btn {
          background: #e5e7eb;
          color: #18181b;
        }
        .light .toggle-btn:hover {
          background: #d1d5db;
        }
        .shadow-lg { box-shadow: 0 4px 24px #0003; }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1 class="title">Dive Topology Viewer v0.3</h1>
          <button id="toggle-dark" class="toggle-btn">Toggle Light/Dark</button>
        </div>
        <div class="tabs" style="display: flex; gap: 1em; margin: 1.5em 0 1em 0;">
          <button id="tab-region" class="toggle-btn tab-btn selected">Dive Regions</button>
          <button id="tab-marine-life" class="toggle-btn tab-btn">Marine Life</button>
          <button id="tab-region-tree" class="toggle-btn tab-btn">Region Tree</button>
        </div>
        <div id="tab-content-region">
          <div id="search-bar" style="margin: 1em 0 0.5em 0; text-align:center;">
            <input id="search-input" type="text" placeholder="Search for a region or site..." style="width: 60%; max-width: 400px; font-size: 1.1em; padding: 0.4em 1em; border-radius: 0.5em; border: 1.5px solid #bbb; outline: none;" />
            <div id="search-results" style="position: absolute; left: 50%; transform: translateX(-50%); background: #fff; color: #18181b; border-radius: 0.5em; box-shadow: 0 2px 12px #0002; z-index: 1000; display: none; max-width: 400px; width: 60%;"></div>
          </div>
          <div id="controls" style="margin: 0.5em 0 1em 0;"></div>
          <div id="map" class="shadow-lg"></div>
          <div id="tree" style="margin-top: 2em;"></div>
        </div>
        <div id="tab-content-marine-life" style="display:none;">
          <div id="marine-life-browser"></div>
        </div>
        <div id="tab-content-region-tree" style="display:none;">
          <div id="region-tree-browser"></div>
        </div>
      </div>
      <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
      <script type="module" src="./src/init.js"></script>
    </body>
    </html>
